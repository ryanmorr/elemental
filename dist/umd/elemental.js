/*! @ryanmorr/elemental v0.1.0 | https://github.com/ryanmorr/elemental */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).elemental=e()}(this,(function(){"use strict";const t={},e=/\.?([A-Z]+)/g,n=/-([a-z])/g,o=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/;function i(t){return function(t){if(!t||"object"!=typeof t)return!1;const e=Object.getPrototypeOf(t);return null===e||e===Object.getPrototypeOf({})}(t)?Object.assign({},t):Array.isArray(t)?t.slice():t}function r(n){return n in t?t[n]:t[n]=n.replace(e,((t,e)=>"-"+e.toLowerCase()))}function s(t,e){t&&t.slice().forEach(e)}function c(t){if(""===t)return!0;if(t===+t+"")return+t;if(o.test(t))try{return JSON.parse(t)}catch(t){}return t}function u(t,e){if(Array.isArray(e))e.forEach((e=>u(t,e)));else{if(e.nodeName&&(e=e.sheet||e.textContent),"string"==typeof e){const t=new CSSStyleSheet;t.replaceSync(e),e=t}t.adoptedStyleSheets.push(e)}}function a(e,o){return class extends HTMLElement{static get observedAttributes(){return function(t){return Object.keys(t).filter((e=>{const n=t[e],o=typeof n;return"string"===o||"number"===o||"boolean"===o||null===n})).map(r)}(e)}constructor(){super(),this._initialized=!1,this._observers={mount:[],unmount:[],prop:[],attr:[]}}get html(){return this.shadowRoot}set html(t){this.shadowRoot.replaceChildren(),"string"==typeof t?this.shadowRoot.innerHTML=t:this.shadowRoot.appendChild(t)}set css(t){this.shadowRoot&&u(this.shadowRoot,t)}observe(t,e){if(t.includes(":")){const n=t.split(":");t=n[0],e=function(t,e){return(n,o,i)=>{n===t&&e(o,i)}}(n[1],e)}const n=this._observers[t];if(n)return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}connectedCallback(){if(!this._initialized){!function(t,e){Object.keys(e).forEach((n=>{let o=i(e[n]);const u=r(n),a=t.getAttribute(u);if(null!=a)o=c(a);else{const e=typeof o;"string"!==e&&"number"!==e&&!0!==o||t.setAttribute(u,!0===o?"":o)}Object.defineProperty(t,n,{get:()=>o,set(e){const i=o;o=e,i!==e&&s(t._observers.prop,(t=>t(n,e,i)))},enumerable:!0,configurable:!0})}))}(this,e),this._initialized=!0;const t=this.attachShadow({mode:"open"}),n=o.call(this,this);n&&("string"==typeof n?t.innerHTML=n:t.appendChild(n))}const t=this.parentElement;s(this._observers.mount,(e=>e(t)))}disconnectedCallback(){s(this._observers.unmount,(t=>t()))}attributeChangedCallback(e,o,i){if(!this._initialized)return;if(o===i)return;const r=function(e){return e in t?t[e]:t[e]=e.replace(n,((t,e)=>e.toUpperCase()))}(e);this[r]=c(i),s(this._observers.attr,(t=>t(e,i,o)))}}}return function(t,e,n){"function"==typeof e&&(n=e,e={});const o=a(e,n);return customElements.define(t,o),o}}));
